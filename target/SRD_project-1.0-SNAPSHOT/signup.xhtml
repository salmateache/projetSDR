<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core">
<h:head>
    <title>Créer un compte</title>
    <h:outputStylesheet name="css/style3.css"/>
    <link href="https://fonts.googleapis.com/css?family=Poppins:600&amp;display=swap" rel="stylesheet"/>
    <script src="https://kit.fontawesome.com/a81368914c.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
</h:head>

<h:body>
    <h:graphicImage name="img/wave2.png" styleClass="wave"/>
    <div class="container">
        <div class="img">
            <h:graphicImage name="img/bg.svg"/>
        </div>
        <div class="login-content">
            <h:form style="width: 500px">
                <h2 class="title">Créer un compte</h2>

                <!-- ✅ Message global uniquement -->
                <h:messages globalOnly="true" styleClass="error-messages" layout="list"/>

                <!-- Nom -->
                <div class="input-div one">
                    <div class="i"><i class="fas fa-user"></i></div>
                    <div class="div">
                        <h5>Nom</h5>
                        <h:inputText value="#{signupController.nom}" styleClass="input"/>
                    </div>
                </div>

                <!-- Prénom -->
                <div class="input-div one">
                    <div class="i"><i class="fas fa-user"></i></div>
                    <div class="div">
                        <h5>Prénom</h5>
                        <h:inputText value="#{signupController.prenom}" styleClass="input"/>
                    </div>
                </div>

                <!-- Email -->
                <div class="input-div one">
                    <div class="i"><i class="fas fa-envelope"></i></div>
                    <div class="div">
                        <h5>Email</h5>
                        <h:inputText value="#{signupController.email}" styleClass="input"/>
                    </div>
                </div>

                <!-- Téléphone -->
                <div class="input-div one">
                    <div class="i"><i class="fas fa-phone"></i></div>
                    <div class="div">
                        <h5>Téléphone</h5>
                        <h:inputText value="#{signupController.telephone}" styleClass="input"/>
                    </div>
                </div>

                <!-- Mot de passe -->
                <div class="input-div pass">
                    <div class="i"><i class="fas fa-lock"></i></div>
                    <div class="div">
                        <h5>Mot de passe</h5>
                        <h:inputSecret value="#{signupController.password}" styleClass="input"/>
                    </div>
                </div>

                <!-- Confirmer mot de passe -->
                <div class="input-div pass">
                    <div class="i"><i class="fas fa-lock"></i></div>
                    <div class="div">
                        <h5>Confirmer le mot de passe</h5>
                        <h:inputSecret value="#{signupController.confirmPassword}" styleClass="input"/>
                    </div>
                </div>

                <!-- Rôle -->
                <div class="input-div one">
                    <div class="i"><i class="fas fa-user-tag"></i></div>
                    <div class="div">
                        <h5>Rôle</h5>
                        <h:selectOneMenu value="#{signupController.role}" styleClass="input">
                            <f:selectItem itemLabel="Choisir un rôle" itemValue="" />
                            <f:selectItem itemLabel="Patient" itemValue="patient" />
                            <f:selectItem itemLabel="Admin" itemValue="admin" />
                        </h:selectOneMenu>
                    </div>
                </div>

                <!-- Bouton -->
                <h:commandButton value="Créer le compte" action="#{signupController.register}" styleClass="btn" style="margin-top: 15px"/>

                <!-- Lien vers login -->
                <div class="signup-link" style="margin-top: 10px; text-align: center; width:430px">
                    <span>Vous avez déjà un compte ?</span>
                    <br/>
                    <h:link outcome="login.xhtml" value="Se connecter" style="margin-top: -23px; "/>
                </div>
            </h:form>
        </div>
    </div>
    <h:outputScript name="js/main2.js"/>
</h:body>
</html>
