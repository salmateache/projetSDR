<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      lang="fr">
<h:head>
    <meta charset="utf-8" />
    <title>DentCare - Modifier Rendez-vous</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Favicon -->
    <link rel="icon" href="#{resource['img/favicon.ico']}" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500;600;700&amp;family=Open+Sans:wght@400;600&amp;display=swap" rel="stylesheet"/>

    <!-- CSS Libraries -->
    <h:outputStylesheet name="lib/owlcarousel/assets/owl.carousel.min.css" />
    <h:outputStylesheet name="lib/animate/animate.min.css" />
    <h:outputStylesheet name="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" />
    <h:outputStylesheet name="lib/twentytwenty/twentytwenty.css" />
    <h:outputStylesheet library="css" name="bootstrap.min.css" />
    <h:outputStylesheet library="css" name="style.css" />

    <!-- Custom Internal CSS -->
    <style>
        .form-container {
            background-color: #ffffff;
            padding: 25px;
            max-width: 600px;
            margin: 50px auto;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 64, 128, 0.2);
        }
        label {
            font-weight: 600;
            margin-top: 15px;
            display: block;
        }
        input[type="text"],
        input[type="date"],
        select {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        .buttons {
            text-align: center;
            margin-top: 30px;
        }
        .btn-custom {
            background-color: #004080;
            color: white;
            padding: 10px 25px;
            border: none;
            border-radius: 5px;
            margin: 0 10px;
        }
        .btn-custom.cancel {
            background-color: #999999;
        }
        .message {
            text-align: center;
            padding: 10px;
            margin-top: 20px;
            border-radius: 5px;
        }
        .message.info {
            background-color: #cce5ff;
            color: #004085;
        }
        .message.error {
            background-color: #f8d7da;
            color: #721c24;
        }
    </style>
</h:head>

<h:body>

<!-- Navbar Start -->
<nav class="navbar navbar-expand-lg bg-white navbar-light shadow-sm px-5 py-3 py-lg-0">
    <a href="home.xhtml" class="navbar-brand p-0">
        <h1 class="m-0 text-primary"><i class="fa fa-tooth me-2"/>DentCare</h1>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
        <span class="navbar-toggler-icon"/>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ms-auto py-0">
            <a href="listerendezvous.xhtml" class="nav-item nav-link">Liste des Rendez-vous</a>
            <a href="demamde.xhtml" class="nav-item nav-link">Demande de Rendez-vous</a>
        </div>
        <h:panelGroup rendered="#{!loginController.loggedIn}">
            <a href="login.xhtml" class="btn btn-primary py-2 px-4 ms-3">LOGIN</a>
        </h:panelGroup>
        <h:form styleClass="nav-item dropdown ms-2" rendered="#{loginController.loggedIn}">
            <a href="#" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown">
                <i class="fa fa-user-cog me-1"></i> #{loginController.utilisateurConnecte.prenom}
            </a>
            <div class="dropdown-menu dropdown-menu-start m-0">
                <a href="manageAccount.xhtml" class="dropdown-item"><i class="fa fa-user me-2"></i>Compte</a>
                <h:commandLink action="#{loginController.logout}" styleClass="dropdown-item"
                               onclick="return confirm('Se déconnecter ?');">
                    <i class="fa fa-sign-out-alt me-2"></i>Déconnexion
                </h:commandLink>
            </div>
        </h:form>
    </div>
</nav>
<!-- Navbar End -->

<!-- Formulaire de modification -->
<f:view>
    <h:form class="form-container">
        <h2 class="text-center text-primary mb-4">Modifier Rendez-vous</h2>

        <h:messages globalOnly="true" layout="table" styleClass="message info" errorClass="message error" />

        <!-- Date -->
        <label for="dateRdv">Date du Rendez-vous :</label>
        <h:inputText id="dateRdv" value="#{rendezvousController.selectedRdv.dateRdv}">
            <f:convertDateTime pattern="yyyy-MM-dd" />
        </h:inputText>

        <!-- Statut -->
        <label for="statut">Statut :</label>
        <h:selectOneMenu id="statut" value="#{rendezvousController.selectedRdv.statut}">
            <f:selectItem itemLabel="Sélectionnez un statut" itemValue="" />
            <f:selectItem itemLabel="Confirmé" itemValue="confirmé" />
            <f:selectItem itemLabel="Rejeté" itemValue="rejeté" />
            <f:selectItem itemLabel="Supprimé" itemValue="supprimé" />
            <f:selectItem itemLabel="En attente" itemValue="en attente" />
        </h:selectOneMenu>

        <!-- Boutons -->
        <div class="buttons">
            <h:commandButton value="Enregistrer" action="#{rendezvousController.saveReport}" styleClass="btn-custom" />
            <h:commandButton value="Annuler" action="listerendezvous.xhtml?faces-redirect=true" immediate="true" styleClass="btn-custom cancel"/>
        </div>
    </h:form>
</f:view>

<!-- JavaScript -->
<h:outputScript name="lib/jquery/jquery.min.js" />
<h:outputScript name="lib/bootstrap/js/bootstrap.bundle.min.js" />
<h:outputScript name="lib/wow/wow.min.js" />
<h:outputScript name="lib/easing/easing.min.js" />
<h:outputScript name="lib/waypoints/waypoints.min.js" />
<h:outputScript name="lib/owlcarousel/owl.carousel.min.js" />
<h:outputScript name="lib/tempusdominus/js/moment.min.js" />
<h:outputScript name="lib/tempusdominus/js/moment-timezone.min.js" />
<h:outputScript name="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js" />
<h:outputScript name="js/main.js" />

</h:body>
</html>
